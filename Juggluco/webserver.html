<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.5.0.3 (Linux)"/>
	<meta name="created" content="2022-03-03T15:02:35.013438506"/>
	<meta name="changed" content="2023-03-20T12:45:02.974414610"/>
	<style type="text/css">
		@page { margin: 0.79in }
		p { margin-bottom: 0.1in }
		h4.western { font-family: "Liberation Sans", sans-serif; font-size: 13pt; font-style: italic }
		h4.cjk { font-family: "Noto Sans CJK SC"; font-size: 13pt; font-style: italic }
		h4.ctl { font-family: "Mangal"; font-size: 13pt; font-style: italic }
		h3.cjk { font-family: "Droid Sans Fallback" }
		h3.ctl { font-family: "Droid Sans Devanagari" }
	</style>
</head>
<body lang="en-US" dir="ltr"><p align="center" style="line-height: 100%; margin-top: 0.17in; margin-bottom: 0.08in; page-break-after: avoid">
<font face="Liberation Sans, sans-serif"><font size="6" style="font-size: 28pt"><b>xDrip/Nightscout
webserver</b></font></font></p>
<h3 class="western">xDrip</h3>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco
incorporates an xDrip web server. This way you can receive glucose
values via <a href="http://127.0.0.1:17580/sgv.json">http://127.0.0.1:17580/sgv.json</a>
on the devices running Juggluco. Turn the server on in Juggluco under
left menu, watch.</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco recognizes
the following <a href="https://github.com/NightscoutFoundation/xDrip/blob/master/Documentation/technical/Local_Web_Services.md">xDrip
server options</a>:</p>
<h4 class="western">count=nr</h4>
<p style="line-height: 100%; margin-bottom: 0in">Give nr values,
instead of 24.</p>
<p style="line-height: 100%; margin-bottom: 0in">For example to
receive 10 values use:</p>
<p style="line-height: 100%; margin-bottom: 0in"><a href="http://127.0.0.1:17580/sgv.json?count=10">http://127.0.0.1:17580/sgv.json?count=10</a></p>
<h4 class="western">brief_mode=Y</h4>
<p style="line-height: 100%; margin-bottom: 0in">Display less
information. For example:</p>
<p><a href="http://127.0.0.1:17580/sgv.json?count=2&amp;brief_mode=Y">http://127.0.0.1:17580/sgv.json?count=2&amp;brief_mode=Y</a></p>
<h4 class="western">sensor=Y</h4>
<p style="line-height: 100%; margin-bottom: 0in">Give sensor start
date and age. For example:</p>
<p><a href="http://127.0.0.1:17580/sgv.json?count=3&amp;sensor=Y&amp;brief_mode=Y">http://127.0.0.1:17580/sgv.json?count=3&amp;sensor=Y&amp;brief_mode=Y</a></p>
<h4 class="western">all_data=Y</h4>
<p style="line-height: 100%; margin-bottom: 0in">If necessary also
displays values of previous sensors.</p>
<h4 class="western">no_empty=Y</h4>
<p style="line-height: 100%; margin-bottom: 0in">Displays nothing
instead of [] when no data is available.</p>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco added the
following option:</p>
<h4 class="western">interval=seconds</h4>
<p style="line-height: 100%; margin-bottom: 0in"><i>interval</i>
gives the minimal number of seconds between values. If not specified,
it is set to 270 seconds (4.5 minutes) to keep in line with xDrip.
This means that if multiple values are given they are spaced at least
270 seconds apart (the first is always the most recent value). If you
like to receive values spaced more closely in time, you can specify a
smaller number.</p>
<p style="line-height: 100%; margin-bottom: 0in">for example:</p>
<p style="line-height: 100%; margin-bottom: 0in"><a href="http://127.0.0.1:17580/sgv.json?count=100&amp;interval=90">http://127.0.0.1:17580/sgv.json</a><a href="http://127.0.0.1:17580/sgv.json?count=100&amp;interval=90">?count=100&amp;interval=90</a></p>
<p style="line-height: 100%; margin-bottom: 0in">To receive 100
glucose values spaced 90 seconds apart. In reality this will be
around 2 minutes apart.</p>
<p style="line-height: 100%; margin-bottom: 0in">Another possibility
could be to round values instead of skipping them. But averaging the
last values makes the measurement older. If the last value is the
average of the last 5 values, the average of its age will be 2 to 3
minutes. Because the measurement location is already physiologically
distance from the blood, there is more to say for extrapolating
instead of averaging the values. Thus, if you have for the last 5
minutes 10,9,8,7 and 6 mmol/L you should return 5 mmol/L instead of
7.6 mmol/L.</p>
<h3 class="western">Nightscout</h3>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco only
implements Nightscout used by apps contacting Nightscout; it has not
the intent to implements commands used by no one and full-filling no
other purpose than what other commands already do. 
</p>
<h4 class="western">Nightscout commands implemented in Juggluco:</h4>
<p style="line-height: 100%; margin-bottom: 0in">You can receive the
same results as with <a href="http://127.0.0.1:17580/sgv.json?count=100&amp;interval=90">http://127.0.0.1:17580/sgv.json</a>
also with: <a href="http://127.0.0.1:17580/api/v1/entries/sgv.jsonhttp://127.0.0.1:17580/api/v1/entries/sgv.json">http://127.0.0.1:17580/api/v1/entries/sgv.json</a>
and <a href="http://127.0.0.1:17580/api/v1/entries/sgv.json">http://127.0.0.1:17580/api/v1/entries.json</a></p>
<p style="line-height: 100%; margin-bottom: 0in">In csv format:
<a href="http://127.0.0.1:17580/api/v1/entries/sgv.csv">http://127.0.0.1:17580/api/v1/entries/sgv.csv</a></p>
<p style="line-height: 100%; margin-bottom: 0in">In tsv format:
<a href="http://127.0.0.1:17580/api/v1/entries/sgv.tsv">http://127.0.0.1:17580/api/v1/entries/sgv.tsv</a>
or <a href="http://127.0.0.1:17580/api/v1/entries/sgv.txt">http://127.0.0.1:17580/api/v1/entries/sgv.txt</a>
or <a href="http://127.0.0.1:17580/api/v1/entries">http://127.0.0.1:17580/api/v1/entries</a></p>
<p style="line-height: 100%; margin-bottom: 0in">For only the last
value in tsv format, you can use
<a href="http://127.0.0.1:17580/api/v1/entries/current">http://127.0.0.1:17580/api/v1/entries/current</a></p>
<p style="line-height: 100%; margin-bottom: 0in">You can receive the
amounts from Juggluco with:</p>
<p style="line-height: 100%; margin-bottom: 0in"><a href="http://127.0.0.1:17580/api/v1/treatments">http://127.0.0.1:17580/api/v1/treatments</a></p>
<p style="line-height: 100%; margin-bottom: 0in">In addition to
count, you have also the following options:</p>
<h4 class="western">find[date][$gt]=datemsec</h4>
<p style="line-height: 100%; margin-bottom: 0in">give results after
datemsec, where <i>datemsec</i> is the number of milli seconds since
00:00 1 January 1970 GMT For example: <a href="http://127.0.0.1:17580/api/v1/treatments?count=5&amp;find[date][$gt]=1679266800000">http://127.0.0.1:17580/api/v1/treatments?count=5&amp;find[date][$gt]=1679266800000</a></p>
<h4 class="western">find[date][$gte]=datemsec</h4>
<p>gives results at or after datemsec</p>
<h4 class="western">find[date][$lt]=datemsec</h4>
<p>give results before datemsec, where datemsec are the number of
milli seconds since 00:00 1 January 1970 GMT For example: <a href="http://127.0.0.1:17580/api/v1/entries.json?count=5&amp;find[date][$lt]=1679266800000">http://127.0.0.1:17580/api/v1/entries.json?count=5&amp;find[date][$lt]=1679266800000</a></p>
<h4 class="western">find[date][$lte]=datemsec</h4>
<p>gives results at or before datemsec</p>
<p style="line-height: 100%; margin-bottom: 0in">By using dateString
or created_at instead of date, you can use a date in the format
YYYY-mm-DDThh:MM:ss, were mm is the month and MM the minutes. For
example 
</p>
<p style="line-height: 100%; margin-bottom: 0in"><a href="http://127.0.0.1:17580/api/v1/entries.json?count=5&amp;find[dateString][$lt]=2023-03-02T08:04:01">http://127.0.0.1:17580/api/v1/entries.json?count=5&amp;find[dateString][$lt]=2023-03-02T08:04:01</a></p>
<p style="line-height: 100%; margin-bottom: 0in">These commands can
also be used with <a href="https://www.juggluco.nl/Juggluco/cmdline">Juggluco
Server</a>. And with SSL if you give Juggluco an SSL key as described
in Left menu-&gt;Settings-&gt;Web server-&gt;Help and the readme of
Juggluco Server and the help (-h) of <a href="https://www.juggluco.nl/Juggluco/cmdline/">Juggluco
server</a>.</p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
</body>
</html>
