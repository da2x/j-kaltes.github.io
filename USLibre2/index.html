<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Patched US Libre 2.7.2</title>
    <style type="text/css">
figure {
    display: inline-block;
}

	</style>
  </head>
<body>
<h1>Patched US Libre 2.7.2</h1>
<p><b>This app is no longer needed. New US Libre 2 sensors can be used directly with <a href="https://www.juggluco.nl/Juggluco/download.html">Juggluco 5.1.3</a>.
</b></p>
<p><a href="https://apkfab.com/libre-2/com.freestylelibre2.app.aq/apk?h=1667f645310a58344e5235ea21113b4e9e3f3f02799f9925f648ffdb0dc06d20">Download</a></p>
<p>New US Libre 2 sensors (with dates 2023-11-03 or later) don't work with Juggluco. Scanning gives a <i>Scan Error (18)</i> message.
As a temporary solution I have patched Abbott's US Libre 2.7.2 app so that it sends glucose values to Juggluco. Not only the scan and history values, but also the glucose value stream received via Bluetooth. Normally Abbott's Libre 2 app uses this only to generate low and high glucose alarms.</p>

<figure><img src="JugglucoLink.jpg" style="object-fit:contain; width:auto;		    height:20cm;" align="right">
<figcaption>Juggluco menu added to the US libre 2 app </figcaption> </figure>
<p>The patched US Libre
2.7.2 app doesn't need to start the sensor; it can work with your
current sensor. It can also be installed beside the unpatched US
libre 2 app. You only need to force stop the unpatched US libre 2
app, because otherwise it is possible that you will not get a
connection because the unpatched US Libre 2 app tried to to that, but
doesn't succeed because it uses the wrong &quot;PIN&quot;.</p>
<p>The patched US Libre
2.7.2 app sends glucose values via TCP/IP to Juggluco. For this use
is made of <a href="https://www.juggluco.nl/Juggluco/mgdL/index.html#mirror">Juggluco's
Mirror (Clone in a lot of translations) function</a>. How it works
can also be found in the help in Juggluco under Left middle
menu-&gt;Mirror and Left middle menu-&gt;Mirror-&gt;Add connection.</p>
<p style="line-height: 100%; margin-bottom: 0in">Both Juggluco and
the patched US Libre 2.7.2 app app listen on a port to which the
other side of the connection can connect. In the start mirror screen
the port is mentioned where that app is listening on. In &quot;<em>Add
connection</em>&quot; you have to specify the port to connect to,
thus the port of the other side.</p>
<p style="line-height: 100%; margin-bottom: 0in">The app can listen
on any port in the range 1024-65535 with the restriction that no one
else on the same device should listen on that port.</p>
<p style="line-height: 100%; margin-bottom: 0in">In the example
pictures:</p>
<p style="line-height: 100%; margin-bottom: 0in">Patched US Libre 2
app port: 7777</p>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco port: 8888</p>
<p style="line-height: 100%; margin-bottom: 0in">Both are on the same
host, thus they can use the IP: 127.0.0.1</p>
<p style="line-height: 100%; margin-bottom: 0in">The patched US Libre
2 app sends Scans and Stream to Juggluco.</p>
<p style="line-height: 100%; margin-bottom: 0in">Juggluco receives.</p>
<p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<figure> <img src="AbbottOverview.jpg" style="object-fit:contain; width:auto;		    height:20cm;"  title="Libre2 Overview" >
<figcaption>Connection Overview in US Libre 2</figcaption> </figure>
<figure> <img src="AbbottAddConnection.jpg" style="object-fit:contain; width:auto;		    height:20cm;" align="right">
<figcaption>Add Connection in US Libre 2</figcaption> </figure>
<figure> <img src="JugglucoOverview.jpg" style="object-fit:contain; height:auto;		    width:20cm;"       align="left">
<figcaption>Connection overview in Juggluco</figcaption> </figure>
<figure><img src="JugglucoAddConnection.jpg" style="object-fit:contain; height:auto;		    width:20cm;"       align="left"> 
<figcaption>Add Connection in Juggluco</figcaption> </figure>
<p>
You may need to press "Reinit" and/or "Sync" before it starts working.
<p/>
<b>WARNING</b>: Making Juggluco a mirror will override
existing data in Juggluco. 
</p>
<p style="line-height: 100%; margin-bottom: 0in">If you want to keep
your data, you have to send these data first to the patched US Libre
2.7.2 app before using a sensor with the patched US Libre 2.7.2 app.
To send data to the patched US Libre 2.7.2 you have to reverse the
roles of both apps: now you have to check &quot;<em>Receive from</em>&quot;
in the Patched 2.7.2 app and <em>Scans</em> and <em>Stream</em> in
Juggluco. You can see whether data have arrived by looking at the
date and time displayed in the connection.</p>
<figure><img src="Synced.jpg" style="object-fit:contain; width:auto;		    height:20cm;"       align="left"> 
<figcaption>Both were in sync at 10:55:15</figcaption> </figure>
<h1>Arm32</h1>
<p>
The app is arm64 only. If you want 32 bit arm, you need to give me
the arm32 libraries installed on an Arm32 phone. 
</p>
<p style="line-height: 100%; margin-bottom: 0in">The arm32 are
contained in:
<a href="https://www.apkmirror.com/apk/abbott-diabetes-care-inc/freestyle-libre-2-us/freestyle-libre-2-us-2-7-2-release/freestyle-libre-2-us-2-7-2-android-apk-download">https://www.apkmirror.com/apk/abbott-diabetes-care-inc/freestyle-libre-2-us/freestyle-libre-2-us-2-7-2-release/freestyle-libre-2-us-2-7-2-android-apk-download</a></p>
<p style="line-height: 100%; margin-bottom: 0in">But there seems to
something wrong with the arm32 libraries because when I install the
arm32 version on my phone arm64 ( adb install   --abi  armeabi-v7a 
THE_APK_FILE), it scans terribly slow: 7 seconds. Google Play doesn't
distribute this multi machine APK and it was already uploaded on
mirror.com before the app was available at Google Play.</p>
<p style="line-height: 100%; margin-bottom: 0in">With adb you can
pull installed APKs out of the phone:</p>
<p style="line-height: 100%; margin-bottom: 0in">An list of the apk's
belonging to com.freestylelibre2.app.us, you get with:</p>
<p style="line-height: 100%; margin-bottom: 0in">adb shell pm path
com.freestylelibre2.app.us</p>
<p style="line-height: 100%; margin-bottom: 0in">thereafter you can
pull each file from the device with:</p>
<p style="line-height: 100%; margin-bottom: 0in">adb pull $FILENAME</p>
<p style="line-height: 100%; margin-bottom: 0in">where $FILENAME
stands for a filename.</p>
<p style="line-height: 100%; margin-bottom: 0in">For example when</p>
<pre class="western">adb shell pm path com.freestylelibre2.app.us</pre><p style="line-height: 100%; margin-bottom: 0in">
Returns:</p>
<pre class="western">package:/data/app/~~lSfFIR9tZkv_fKuKbK20YA==/com.freestylelibre2.app.us-A2OumPP_a3lfVZSZQkwNog==/base.apk
package:/data/app/~~lSfFIR9tZkv_fKuKbK20YA==/com.freestylelibre2.app.us-A2OumPP_a3lfVZSZQkwNog==/split_config.arm64_v8a.apk
package:/data/app/~~lSfFIR9tZkv_fKuKbK20YA==/com.freestylelibre2.app.us-A2OumPP_a3lfVZSZQkwNog==/split_config.xxhdpi.apk
</pre><p>
You can pull each of the files out of the device with (replacing
<em>package:</em> with <em>adb pull ):</em></p>
<pre class="western">adb pull /data/app/~~lSfFIR9tZkv_fKuKbK20YA==/com.freestylelibre2.app.us-A2OumPP_a3lfVZSZQkwNog==/base.apk
adb pull /data/app/~~lSfFIR9tZkv_fKuKbK20YA==/com.freestylelibre2.app.us-A2OumPP_a3lfVZSZQkwNog==/split_config.arm64_v8a.apk
adb pull /data/app/~~lSfFIR9tZkv_fKuKbK20YA==/com.freestylelibre2.app.us-A2OumPP_a3lfVZSZQkwNog==/split_config.xxhdpi.apk</pre>
<p><br></p>
<p><br></p>
<p><br></p>
</body>
</html>
